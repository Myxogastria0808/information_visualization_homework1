[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "可視化結果の報告",
    "section": "",
    "text": "日本では過去に5回万国博覧会が開催されており、現在進行形で6回目の万博が開催されている。 第1回目の万博が開催された1970年から現在まで半世紀以上の時間の幅が存在する。 その間、日本国民の所得にも大小はあれど変化があると考えた。 そこで、日本で開催された万国博覧会のそれぞれの入場料と、 日本国民の所得の変化を観察できる指標の関係を見ることで、相関を視覚的表現で可視化できるのではないかと 考えた。\n\n\n\n\n\nLoading required package: sysfonts\n\n\nLoading required package: showtextdb"
  },
  {
    "objectID": "index.html#導入",
    "href": "index.html#導入",
    "title": "可視化結果の報告",
    "section": "",
    "text": "日本では過去に5回万国博覧会が開催されており、現在進行形で6回目の万博が開催されている。 第1回目の万博が開催された1970年から現在まで半世紀以上の時間の幅が存在する。 その間、日本国民の所得にも大小はあれど変化があると考えた。 そこで、日本で開催された万国博覧会のそれぞれの入場料と、 日本国民の所得の変化を観察できる指標の関係を見ることで、相関を視覚的表現で可視化できるのではないかと 考えた。"
  },
  {
    "objectID": "index.html#視覚的表現",
    "href": "index.html#視覚的表現",
    "title": "可視化結果の報告",
    "section": "",
    "text": "Loading required package: sysfonts\n\n\nLoading required package: showtextdb"
  },
  {
    "objectID": "index.html#視覚的表現のソースコード",
    "href": "index.html#視覚的表現のソースコード",
    "title": "可視化結果の報告",
    "section": "視覚的表現のソースコード",
    "text": "視覚的表現のソースコード\nlibrary(ggplot2)\nlibrary(showtext)\n\n# フォントの設定\nshowtext::showtext_auto()\n# データを読み込む\nexpo_data &lt;- read.csv(\"./data/data.csv\")\n# 西暦順にラベルを並べる\nlabel &lt;- paste0(expo_data$name[order(expo_data$western_year)], \"\\n(\", expo_data$western_year[order(expo_data$western_year)], \"年)\")\nexpo_data$label &lt;- factor(\n    label,\n    levels = label,\n    ordered = TRUE)\n# 平均年収のスケールを調整する\nexpo_data$give_mean_10k &lt;- expo_data$give_mean / 10000\n# 平均年収と入場料のスケールを合わせる\nentrance_fee_min &lt;- min(expo_data$entrance_fee)\nentrance_fee_max &lt;- max(expo_data$entrance_fee)\ngive_mean_min &lt;- min(expo_data$give_mean_10k)\ngive_mean_max &lt;- max(expo_data$give_mean_10k)\nscaler &lt;- (entrance_fee_max - entrance_fee_min) / (give_mean_max - give_mean_min)\n# グラフの作成\nggplot(data = expo_data, aes(x = label)) +\n    geom_line(aes(y = entrance_fee, group = 1, colour = \"入場料 (1円単位)\"), linewidth = 1.2) +\n    geom_line(aes(y = give_mean_10k * scaler, group = 1, colour = \"平均所得 (1万円単位)\"), linewidth = 1.2) +\n    scale_y_continuous(\n        expand = c(0, 0),\n        sec.axis = sec_axis(\n            transform = ~ .x / scaler,\n            breaks = seq(from = give_mean_min, to = give_mean_max, by = 50),\n            name = \"\\n日本国民の平均所得 (万円)\\n\"\n        )\n    ) +\n    scale_x_discrete(expand = c(0.07, 0.07)) +\n    scale_color_manual(\n        name = \"凡例\",\n        values = c(\"入場料 (1円単位)\" = \"blue\", \"平均所得 (1万円単位)\" = \"red\")\n    ) +\n    labs(\n        x = \"\\n万博名\\n(開催年)\\n\",\n        y = \"\\n万国博覧会の大人入場料 (円) \\n\",\n        title = \"\\n万博の入場料と平均所得\",\n        subtitle = \"日本で開催された万国博覧会の大人の入場料と日本国民の平均所得(万円)との関係\"\n    ) +\n    theme(\n        axis.text.x = element_text(angle = 30, hjust = 1)\n    )\n\n出典\nデータの出典（URL等）、収集年月日\nhttps://otokupick.com/1388/?utm_source=chatgpt.com/ (2025/6/3)\nhttps://www.expo2025.or.jp/association/ (2025/6/5)\nhttps://www.expo2025.or.jp/tickets-index/price/ (2025/6/5)\nhttps://www.nta.go.jp/publication/statistics/kokuzeicho/jikeiretsu/01_02.htm (2025/6/5)\nhttps://career-research.mynavi.jp/reserch/20250214_92405/ (2025/6/5)\nhttps://blog.statsbeginner.net/entry/2020/08/11/212405 (2025/6/5)\n\n\n生成AI利用の有無\n\n生成に利用したAIサービス\n\nAIサービス\n\nChatGPT\n\nURL\n\nhttps://chatgpt.com\n\nChatGPTを使用して、検証する題目が妥当かどうかの確認を行った。\n\nAIの出力\n\nhttps://chatgpt.com/share/683ec5f2-3f98-8008-a2b6-69fd2f558425\n\nプロンプト\n\n過去、日本で開催された万博の入場料を比較することで、日本国民の所得の変化との関係を示すことはできますか？\n沖縄国際海洋博覧会が開催さいれていた当時の入場料金を教えてください。また、出典も明記してください。\n各年の日本国民の平均所得を公開しているサイトを教えてください\n調査対象のデータが時刻データとして扱って良いかどうかの確認 (プロンプトを要約して書いています)\n所得のデータについて、追加の質問 (プロンプトを要約して書いています)\n適切な可視化表現についての質問 (プロンプトを要約して書いています)"
  },
  {
    "objectID": "explanation.html",
    "href": "explanation.html",
    "title": "視覚的表現の解説",
    "section": "",
    "text": "Loading required package: sysfonts\n\n\nLoading required package: showtextdb"
  },
  {
    "objectID": "explanation.html#視覚的表現",
    "href": "explanation.html#視覚的表現",
    "title": "視覚的表現の解説",
    "section": "",
    "text": "Loading required package: sysfonts\n\n\nLoading required package: showtextdb"
  },
  {
    "objectID": "explanation.html#データの加工方法",
    "href": "explanation.html#データの加工方法",
    "title": "視覚的表現の解説",
    "section": "データの加工方法",
    "text": "データの加工方法\n可視化を行うにあたり行なったデータの加工方法（他の人が再現できるような詳細度で説明すること。）\nname, western_year, entrance_feeは、 大阪・関西万博のサイト その1 (大阪・関西万博の正式名称の調査に使用)と 大阪・関西万博のサイト その2 (大阪・関西万博の大人入場料金の調査に使用)と OTOPICK (前述の情報以外の情報の調査に使用)より、 取得したデータを利用している。沖縄国際海洋博覧会の大人入場料金の調査に使用したサイトは、販売サイトであったため、リンクを貼っておりません。 Googleで「沖縄国際海洋博覧会 入場券」と検索すると、沖縄国際海洋博覧会の大人入場料金がわかるはずです。 なお、各万国博覧会の大人の入場料に関しては、日中の大人の料金であり、前売券と当日券の両方の金額が確認できた国際科学技術博覧会の入場料は当日券を、 平日券と一日券の両方の金額が確認できた大阪・関西万博の入場料は一日券を採用した。\ngive_meanの令和7年以外については、民間給与実態統計調査結果 (国税庁)の 統計表の「2－1　給与所得者数・給与額・税額」を利用している。\ngive_meanの令和7年のデータについては、マイナビの 1月の全国平均初年度年収を利用している。\n尚、give_meanとentrance_feeの金額の単位は、1円を1として集計している。\nデータの形式は、csv形式のデータである。 具体的なデータは、以下を参照のこと。\n\n\n\n\n\n\nデータの過加工に関しては、R言語で出力した可視化表現をQuartoでサイトの一部として表示している。\n具体的なプログラムについては、それぞれの可視化表現をしている箇所にソースコードも表示しているので、そちらを参照のこと。\n\n環境の再現\n以下の手順で環境の再現を行なうことができる。\n\n当レポジトリをclone\n\ngit clone https://github.com/Myxogastria0808/information_visualization_homework1\n\ndevShellを利用した環境に入る\n\n当レポジトリのルートのディレクトリで、以下のコマンドを実行する。\n以下のコマンドを実行するためには、Nixと Nix flakesが必要です。 Nixと Nix flakesについては、LinuxユーザとMacOSユーザで利用できるはずです。\nnix develop\n\nQuarto Websitesのプレビューを見る\n\n以下のコマンドを実行すると、ブラウザにビルド結果が表示されるはずである。\nquarto preview src\n\n\n環境の再現性について\nNixを採用したことにより、再現性の高い開発環境を構築することができた。\n情報可視化において、可視化表現の結果が常に再現可能である状態を維持することは 非常に重要なことだろう。 今後、情報可視化の分野においてもNixの利用が広まることを期待している。\n\n\nflake.nix\n以下のflake.nixが、このレポジトリの開発環境を構築するためのNix言語の記述になる。\n{\n  description = \"information_visualization_homework1\";\n  inputs = {\n    nixpkgs.url = \"github:NixOS/nixpkgs/nixpkgs-unstable\";\n    flake-utils.url = \"github:numtide/flake-utils\";\n  };\n\n  outputs =\n    inputs:\n    inputs.flake-utils.lib.eachDefaultSystem (\n      system:\n      let\n        pkgs = inputs.nixpkgs.legacyPackages.${system};\n        rpkgs = with inputs.nixpkgs.legacyPackages.${system}.rPackages; [\n          DT\n          ggplot2\n          showtext\n        ];\n      in\n      {\n        devShells.default = pkgs.mkShell {\n          packages = with pkgs; [ R quarto noto-fonts-cjk-serif ] ++ rpkgs;\n        };\n      }\n    );\n}"
  },
  {
    "objectID": "explanation.html#可視化に利用したツール",
    "href": "explanation.html#可視化に利用したツール",
    "title": "視覚的表現の解説",
    "section": "可視化に利用したツール",
    "text": "可視化に利用したツール\n\nプログラム言語\n\nR言語\n\n使用したR言語のpackage\n\nDT\nggplot2\nshowtext\n\n環境の再現\n\nNix (Nix flakes)\n\nレポートのサイトの生成\n\nQuarto\n\nGitHub Pagesヘのデプロイ\n\nGitHub Actions + Nix\n\n\nソースコード等は、以下のレポジトリに公開しています。\nhttps://github.com/Myxogastria0808/information_visualization_homework1"
  },
  {
    "objectID": "explanation.html#表現規則",
    "href": "explanation.html#表現規則",
    "title": "視覚的表現の解説",
    "section": "表現規則",
    "text": "表現規則"
  },
  {
    "objectID": "explanation.html#視覚的表現のソースコード",
    "href": "explanation.html#視覚的表現のソースコード",
    "title": "視覚的表現の解説",
    "section": "視覚的表現のソースコード",
    "text": "視覚的表現のソースコード\nlibrary(ggplot2)\nlibrary(showtext)\n\n# フォントの設定\nshowtext::showtext_auto()\n# データを読み込む\nexpo_data &lt;- read.csv(\"./data/data.csv\")\n# 西暦順にラベルを並べる\nlabel &lt;- paste0(expo_data$name[order(expo_data$western_year)], \"\\n(\", expo_data$western_year[order(expo_data$western_year)], \"年)\")\nexpo_data$label &lt;- factor(\n    label,\n    levels = label,\n    ordered = TRUE)\n# 平均年収のスケールを調整する\nexpo_data$give_mean_10k &lt;- expo_data$give_mean / 10000\n# 平均年収と入場料のスケールを合わせる\nentrance_fee_min &lt;- min(expo_data$entrance_fee)\nentrance_fee_max &lt;- max(expo_data$entrance_fee)\ngive_mean_min &lt;- min(expo_data$give_mean_10k)\ngive_mean_max &lt;- max(expo_data$give_mean_10k)\nscaler &lt;- (entrance_fee_max - entrance_fee_min) / (give_mean_max - give_mean_min)\n# グラフの作成\nggplot(data = expo_data, aes(x = label)) +\n    geom_line(aes(y = entrance_fee, group = 1, colour = \"入場料 (1円単位)\"), linewidth = 1.2) +\n    geom_line(aes(y = give_mean_10k * scaler, group = 1, colour = \"平均所得 (1万円単位)\"), linewidth = 1.2) +\n    scale_y_continuous(\n        expand = c(0, 0),\n        sec.axis = sec_axis(\n            transform = ~ .x / scaler,\n            breaks = seq(from = give_mean_min, to = give_mean_max, by = 50),\n            name = \"\\n日本国民の平均所得 (万円)\\n\"\n        )\n    ) +\n    scale_x_discrete(expand = c(0.07, 0.07)) +\n    scale_color_manual(\n        name = \"凡例\",\n        values = c(\"入場料 (1円単位)\" = \"blue\", \"平均所得 (1万円単位)\" = \"red\")\n    ) +\n    labs(\n        x = \"\\n万博名\\n(開催年)\\n\",\n        y = \"\\n万国博覧会の大人入場料 (円) \\n\",\n        title = \"\\n万博の入場料と平均所得\",\n        subtitle = \"日本で開催された万国博覧会の大人の入場料と日本国民の平均所得(万円)との関係\"\n    ) +\n    theme(\n        axis.text.x = element_text(angle = 30, hjust = 1)\n    )\n\n生成AI利用の有無\n\n生成に利用したAIサービス\n\nAIサービス\n\nChatGPT\n\nURL\n\nhttps://chatgpt.com\n\nChatGPTを使用して、検証する題目が妥当かどうかの確認を行った。\n\nAIの出力\n\nhttps://chatgpt.com/share/683ec5f2-3f98-8008-a2b6-69fd2f558425\n\nプロンプト\n\n過去、日本で開催された万博の入場料を比較することで、日本国民の所得の変化との関係を示すことはできますか？\n沖縄国際海洋博覧会が開催さいれていた当時の入場料金を教えてください。また、出典も明記してください。\n各年の日本国民の平均所得を公開しているサイトを教えてください\n調査対象のデータが時刻データとして扱って良いかどうかの確認 (プロンプトを要約して書いています)\n所得のデータについて、追加の質問 (プロンプトを要約して書いています)\n適切な可視化表現についての質問 (プロンプトを要約して書いています)"
  }
]